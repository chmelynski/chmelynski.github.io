{"metadata":{"version":1,"view":"all"},"components":[{"type":"diagram","name":"diagram1","visible":true,"text":"\nconst imageLoc = { x: 100, y: 50 };\n\nconst p = { x: 105, y: 55 };\nconst q = { x: 115, y: 65 };\n\nctx.drawImage(Hyperdeck.Get('image1')[0], imageLoc.x, imageLoc.y)\n\nHyperdeck.Set('crop-dimensions', { top: p.y, left: p.x, width: q.x - p.x, height: q.y - p.y });\n","showPoints":true,"width":500,"height":300},{"type":"js","name":"crop","visible":true,"text":"\nconst src = $('#diagram1 canvas')[0].getContext('2d');\nconst dst = $('#cropped')[0].getContext('2d');\n\nconst crop = Hyperdeck.Get('crop-dimensions');\n\nconst imageData = src.getImageData(crop.left, crop.top, crop.width, crop.height)\n\ndst.canvas.width = imageData.width;\ndst.canvas.height = imageData.height;\n\ndst.putImageData(imageData, 0, 0);\n\n","display":"codemirror","runOnBlur":false,"runOnLoad":false},{"type":"data","name":"crop-dimensions","visible":true,"data":{"top":55,"left":105,"width":10,"height":10},"params":{"format":"json","display":"json","form":"object","headers":["top","left","width","height"],"afterChange":""}},{"type":"image","name":"image1","visible":true,"data":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAIAAAAC64paAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAgY0hSTQAAeiYAAICEAAD6AAAAgOgAAHUwAADqYAAAOpgAABdwnLpRPAAAAERJREFUOE9j3LJlCwMMeHt7w9lbt24lKM4A1AwH/5EAMeIDqJlUpyKrZxiimomJElxeG8CoosjZQzSqKHI2RQE2NDUDAEVWy5NpqgO1AAAAAElFTkSuQmCC"},{"type":"html","name":"html1","visible":true,"text":"<canvas id=\"cropped\" style=\"border: 1px solid gray\"></canvas>","display":"codemirror","runOnBlur":true,"runOnLoad":true}]}